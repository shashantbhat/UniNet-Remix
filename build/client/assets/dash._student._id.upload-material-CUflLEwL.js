import{r as l,j as e}from"./index-DoaAZ6RU.js";import{k as f}from"./components-CrS9CztZ.js";function g(){f();const[o,m]=l.useState([]),[n,i]=l.useState(!1),[s,u]=l.useState({title:"",description:""}),p=a=>{a.target.files&&m([...o,...Array.from(a.target.files)])},d=a=>{const{name:t,value:c}=a.target;u(r=>({...r,[t]:c}))},b=async a=>{a.preventDefault(),i(!0);try{const t=new FormData;if(t.append("title",s.title),t.append("description",s.description),o.forEach(r=>t.append("file",r)),!(await fetch("",{method:"POST",body:t})).ok)throw new Error("Failed to upload file or save metadata");alert("File uploaded and metadata saved successfully!")}catch(t){console.error("Error:",t),alert("Failed to upload file or save metadata.")}finally{i(!1)}};return e.jsxs("div",{className:"p-4 bg-white shadow-md rounded-md",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Study Material"}),e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Title"}),e.jsx("input",{type:"text",name:"title",value:s.title,onChange:d,required:!0,className:"block w-full text-sm text-gray-500 border border-gray-300 bg-gray-50 focus:outline-none"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Description"}),e.jsx("textarea",{name:"description",value:s.description,onChange:d,className:"block w-full text-sm text-gray-500 border border-gray-300 bg-gray-50 focus:outline-none"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Upload Files"}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*,.pdf",onChange:p,required:!0,className:"block w-full text-sm text-gray-500 border border-gray-300 cursor-pointer bg-gray-50 focus:outline-none"})]}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",disabled:n,children:n?"Uploading...":"Upload"})]})]})}export{g as default};
